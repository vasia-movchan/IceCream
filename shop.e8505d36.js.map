{"version":3,"sources":["js/shop.js"],"names":["food_lines_number","food_lines_vis_number","all_food_prices","all_food_type","all_food_quantity","pokupki_block","document","getElementById","food_selectors","getElementsByClassName","food_quantities","food_closes","food_amounts","add_button1","price_str","Intl","NumberFormat","style","currency","minimumFractionDigits","fill_food_line","food_line_num","price1","food_type_cur","querySelector","selectedIndex","textContent","format","food_quantity_cur","value","total_food_amount","i","changeOption","event","getAttribute","delOption","preventDefault","del_item","remove","addOption","pokupki_list","elem1","divLast1","cloneNode","before","setAttribute","elem2","elem4","elem6","push","addEventListener","length"],"mappings":"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","file":"shop.e8505d36.js","sourceRoot":"../src","sourcesContent":["var food_lines_number = 1;\nvar food_lines_vis_number = 1;\n var all_food_prices = [1.45, 6.50, 12.30, 2.45, 6.65, 7.15, 2.35, 3.80, 4.67];\n var all_food_type = [];\n var all_food_quantity = [];\n\n\n var pokupki_block = document.getElementById('pokupki1');\n \n var food_selectors = pokupki_block.getElementsByClassName('food-selector');\n var food_quantities = pokupki_block.getElementsByClassName('food-quantity');\n var food_closes = pokupki_block.getElementsByClassName('food-close');\n\n var food_amounts = pokupki_block.getElementsByClassName('food-amount');\nvar add_button1 = document.getElementById('add-button');\n \nvar price_str = new Intl.NumberFormat(\"us-US\",\n                        { style: \"currency\", currency: \"USD\",\n                          minimumFractionDigits: 2 });\n\n\n\n function fill_food_line(food_line_num) {\n    var price1, sum1;\n\n\n\n    var food_type_cur = pokupki_block.querySelector('.food-selector[food-line=\"' + food_line_num + '\"]');\n    all_food_type[food_line_num-1] = food_type_cur.selectedIndex;\n         \n    var food_price_cur = pokupki_block.querySelector('.food-price[food-line=\"' + food_line_num + '\"]');\n    food_price_cur.textContent = price_str.format(all_food_prices[food_type_cur.selectedIndex]);\n     \n    var food_quantity_cur = pokupki_block.querySelector('.food-quantity[food-line=\"' + food_line_num + '\"]');\n    all_food_quantity[food_line_num-1] = food_quantity_cur.value;\n     \n    var food_amount_cur = pokupki_block.querySelector('.food-amount[food-line=\"' + food_line_num + '\"]');\n     \n    food_amount_cur.textContent = price_str.format(all_food_prices[food_type_cur.selectedIndex] * all_food_quantity[food_line_num-1]);\n\n    var total_food_amount = 0.0;\n\n    for(i=0; i<food_lines_number; i++) {\n        total_food_amount += all_food_prices[all_food_type[i]] * all_food_quantity[i];\n    }\n   \n    var total_food_amount_div = document.querySelector('.food-total-amount');\n    total_food_amount_div.textContent = price_str.format(total_food_amount);\n }\n\n\nfunction changeOption(event) {\n     fill_food_line(this.getAttribute('food-line'));\n }\n\nfunction delOption(event) {\n\n    \n    event.preventDefault();\n    if (food_lines_vis_number > 1) {\n        food_lines_vis_number--;\n        var del_item = pokupki_block.querySelector('.products-to-choose-in[food-line=\"' + this.getAttribute('food-line') + '\"]');\n        all_food_quantity[this.getAttribute('food-line') - 1] = 0;\n        del_item.remove();\n\n        var total_food_amount = 0.0;\n\n        for (i = 0; i < food_lines_number; i++) {\n            total_food_amount += all_food_prices[all_food_type[i]] * all_food_quantity[i];\n        }\n   \n        var total_food_amount_div = document.querySelector('.food-total-amount');\n        total_food_amount_div.textContent = price_str.format(total_food_amount);\n    } \n }\n\n\n function addOption(event){\n    var pokupki_list = document.getElementById('add-button-div');\n    var elem1 = document.getElementById('food_line_template');\n\n        \n    event.preventDefault();\n    \n     food_lines_number++;\n     food_lines_vis_number++; \n  \n    let divLast1 = elem1.cloneNode(true);\n    pokupki_list.before(divLast1); \n    \n    divLast1.setAttribute(\"food-line\", food_lines_number);\n     \n    var elem2 = divLast1.querySelector('.food-selector');\n     elem2.setAttribute(\"food-line\", food_lines_number);\n          \n    var elem3 = divLast1.querySelector('.food-price');\n    elem3.setAttribute(\"food-line\", food_lines_number);\n\n    var elem4 = divLast1.querySelector('.food-quantity');\n    elem4.setAttribute(\"food-line\", food_lines_number);\n\n    var elem5 = divLast1.querySelector('.food-amount');\n    elem5.setAttribute(\"food-line\", food_lines_number);\n\n    var elem6 = divLast1.querySelector('.food-close');\n    elem6.setAttribute(\"food-line\", food_lines_number);\n\n\n    elem2.selectedIndex = 0;\n    elem4.value = 0;\n    \n    all_food_type.push(0);\n    all_food_quantity.push(0);\n     \n    fill_food_line(food_lines_number);\n\n    elem2.addEventListener(\"change\", changeOption);\n    elem4.addEventListener(\"change\", changeOption);\n    elem6.addEventListener(\"click\", delOption);\n }\n \n all_food_type.push(0);\n all_food_quantity.push(0);\n \n food_selectors[0].selectedIndex = 0;\n food_quantities[0].value = 0;\n\n fill_food_line(1);\n\n for(i=0; i<food_selectors.length; i++) {\n    food_selectors[i].addEventListener(\"change\", changeOption);\n }\n\n for(i=0; i<food_quantities.length; i++) {\n    food_quantities[i].addEventListener(\"change\", changeOption);\n }\n\n  for(i=0; i<food_closes.length; i++) {\n    food_closes[i].addEventListener(\"click\", delOption);\n }\n\n add_button1.addEventListener(\"click\", addOption);"]}